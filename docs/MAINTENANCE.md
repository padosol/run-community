# 유지보수 가이드

## 개요

이 문서는 프로젝트 유지보수 작업의 표준 프로세스를 정의합니다.
모든 유지보수 작업은 아래 사이클을 따라 진행됩니다.

---

## 유지보수 사이클

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│   1. 내역서 작성  →  2. 유지보수  →  3. 검토  →  4. 완료  →  5. Git Push   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 단계별 상세 가이드

### 1단계: 유지보수 내역서 작성

유지보수 작업을 시작하기 전에 반드시 내역서를 작성합니다.

#### 내역서 위치

- 파일 경로: `todo/MAINTENANCE_LOG.md`

#### 내역서 작성 형식

```markdown
## [날짜] 유지보수 내역

### 작업 ID: MT-YYYYMMDD-XXX

#### 작업 개요

- **작업 유형**: [버그수정 / 기능개선 / 성능최적화 / 보안패치 / 리팩토링]
- **우선순위**: [긴급 / 높음 / 보통 / 낮음]
- **예상 소요 시간**:
- **담당자**:

#### 작업 상세

- **문제 설명**:
- **영향 범위**:
- **해결 방안**:

#### 변경 파일 목록

- [ ] 파일1
- [ ] 파일2

#### 테스트 계획

- [ ] 테스트 항목1
- [ ] 테스트 항목2

#### 상태

- [ ] 내역서 작성
- [ ] 유지보수 진행
- [ ] 검토 완료
- [ ] Git Push
```

---

### 2단계: 유지보수 수행

내역서 작성 후 실제 유지보수 작업을 수행합니다.

#### 작업 원칙

1. **최소 변경 원칙**: 요청된 사항만 수정, 불필요한 리팩토링 금지
2. **백업 확인**: 작업 전 현재 상태 확인 (git status)
3. **단계적 수정**: 한 번에 하나의 기능/버그만 수정
4. **주석 작성**: 복잡한 로직은 주석으로 설명

#### 코드 변경 시 체크리스트

- [ ] 기존 코드 스타일 준수
- [ ] 타입스크립트 타입 정의 확인
- [ ] 불필요한 console.log 제거
- [ ] 하드코딩된 값 상수화

---

### 3단계: 검토

작업 완료 후 반드시 검토를 수행합니다.

#### 셀프 검토 체크리스트

- [ ] 코드가 의도대로 동작하는가?
- [ ] 린트 오류가 없는가?
- [ ] 타입 오류가 없는가?
- [ ] 기존 기능에 영향을 주지 않는가?
- [ ] 보안 취약점이 없는가?

#### 검토 명령어

```bash
# 린트 검사
npm run lint

# 타입 검사
npx tsc --noEmit

# 빌드 테스트
npm run build
```

---

### 4단계: 완료

검토 통과 후 내역서를 업데이트합니다.

#### 완료 처리

1. 내역서의 체크리스트 모두 체크
2. 실제 변경된 파일 목록 최종 업데이트
3. 작업 완료 시간 기록

---

### 5단계: Git Push

최종적으로 변경사항을 원격 저장소에 푸시합니다.

#### Git 작업 순서

```bash
# 1. 변경사항 확인
git status

# 2. 변경사항 스테이징
git add .

# 3. 커밋 (컨벤션 준수)
git commit -m "타입: 작업 내용 요약"

# 4. 푸시
git push origin main
```

#### 커밋 메시지 컨벤션

| 타입       | 설명                         |
| ---------- | ---------------------------- |
| `fix`      | 버그 수정                    |
| `feat`     | 새로운 기능 추가             |
| `refactor` | 코드 리팩토링                |
| `style`    | 코드 스타일 변경 (포맷팅 등) |
| `docs`     | 문서 변경                    |
| `chore`    | 빌드, 설정 파일 변경         |
| `perf`     | 성능 개선                    |
| `security` | 보안 패치                    |

#### 커밋 메시지 예시

```
fix: 게시글 목록 글쓰기 버튼 중복 제거
feat: 댓글 이미지 업로드 기능 추가
refactor: PostList 컴포넌트 성능 최적화
```

---

## 긴급 유지보수

긴급한 경우에도 최소한의 절차를 준수합니다.

### 긴급 유지보수 체크리스트

1. [ ] 문제 상황 간단히 기록
2. [ ] 최소한의 수정만 적용
3. [ ] 빠른 검토 후 배포
4. [ ] 사후 상세 내역서 작성

---

## 참고 문서

- [기술 스택](./tech-stack.md)
- [데이터베이스 스키마](./SCHEMA.md)
